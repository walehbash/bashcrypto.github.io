<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CryptoBroker Pro - Advanced Trading Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --secondary: #8b5cf6;
      --accent: #06b6d4;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --dark: #1e1b4b;
      --darker: #15123a;
      --darkest: #0f0d23;
      --light: #f8fafc;
      --gray: #64748b;
      --border: #334155;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--darkest);
      color: var(--light);
      overflow-x: hidden;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background: var(--dark);
      border-right: 1px solid var(--border);
      padding: 1.5rem;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: var(--darker);
      border-radius: 12px;
      margin-bottom: 2rem;
    }

    .user-avatar {
      width: 50px;
      height: 50px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      font-weight: 600;
    }

    .user-info h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .user-info p {
      font-size: 0.875rem;
      color: var(--gray);
    }

    .sidebar-search {
      margin-bottom: 2rem;
    }

    .sidebar-search input {
      width: 100%;
      padding: 0.75rem 1rem;
      background: var(--darker);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--light);
      font-size: 0.875rem;
    }

    .sidebar-search input::placeholder {
      color: var(--gray);
    }

    .nav-menu {
      list-style: none;
    }

    .nav-item {
      margin-bottom: 0.5rem;
    }

    .nav-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      color: var(--light);
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .nav-link:hover,
    .nav-link.active {
      background: var(--primary);
      color: white;
    }

    .nav-link i {
      width: 20px;
      text-align: center;
    }

    .nav-dropdown {
      margin-left: 2rem;
      margin-top: 0.5rem;
      display: none;
    }

    .nav-dropdown.show {
      display: block;
    }

    .dropdown-toggle {
      cursor: pointer;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: 280px;
      padding: 2rem;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 700;
    }

    .logo-icon {
      display: flex;
      align-items: center;
    }

    .logo-text {
      font-size: 1.25rem;
      color: var(--primary);
      font-weight: 700;
    }

    .menu-toggle {
      background: none;
      border: none;
      color: var(--light);
      font-size: 1.2rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 6px;
      transition: background 0.3s ease;
    }

    .menu-toggle:hover {
      background: var(--darker);
    }

    .header-search {
      position: relative;
      width: 400px;
    }

    .header-search input {
      width: 100%;
      padding: 0.75rem 1rem 0.75rem 2.5rem;
      background: var(--darker);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--light);
      font-size: 0.875rem;
    }

    .header-search i {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .header-btn {
      background: var(--darker);
      border: 1px solid var(--border);
      color: var(--light);
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.875rem;
    }

    .header-btn:hover {
      background: var(--primary);
      border-color: var(--primary);
    }

    .header-icon {
      background: var(--darker);
      border: 1px solid var(--border);
      color: var(--light);
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .header-icon:hover {
      background: var(--primary);
      border-color: var(--primary);
    }

    .header-icon {
      position: relative;
    }

    .notification-dot {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger);
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-3px);
      }
      60% {
        transform: translateY(-1px);
      }
    }

    /* Dashboard Grid */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .stat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .stat-icon.pending { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
    .stat-icon.tickets { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
    .stat-icon.balance { background: rgba(16, 185, 129, 0.2); color: var(--success); }
    .stat-icon.debit { background: rgba(99, 102, 241, 0.2); color: var(--primary); }
    .stat-icon.cancel { background: rgba(139, 92, 246, 0.2); color: var(--secondary); }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: var(--gray);
      font-size: 0.875rem;
    }

    /* Chart Section */
    .chart-section {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .chart-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }

    .chart-title {
      font-size: 1.25rem;
      font-weight: 600;
    }

    .chart-filters {
      display: flex;
      gap: 0.5rem;
    }

    .filter-btn {
      background: var(--darker);
      border: 1px solid var(--border);
      color: var(--light);
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.875rem;
    }

    .filter-btn.active {
      background: var(--primary);
      border-color: var(--primary);
    }

    .chart-container {
      height: 250px;
      position: relative;
    }

    /* Market Overview */
    .market-overview {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .market-card {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .market-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .market-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .view-all {
      color: var(--primary);
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .market-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .market-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem;
      background: var(--darker);
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .market-item:hover {
      background: rgba(99, 102, 241, 0.1);
      transform: translateX(4px);
      cursor: pointer;
    }

    .crypto-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .crypto-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 600;
      color: white;
    }

    .crypto-details h4 {
      margin: 0;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .crypto-details p {
      margin: 0;
      font-size: 0.75rem;
      color: var(--gray);
    }

    .crypto-price {
      text-align: right;
    }

    .price {
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .change {
      font-size: 0.75rem;
      font-weight: 500;
    }

    .change.positive {
      color: var(--success);
    }

    .change.negative {
      color: var(--danger);
    }

    .quick-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }

    .action-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem;
      border-radius: 8px;
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.3s ease;
      text-align: center;
      justify-content: center;
    }

    .action-btn.primary {
      background: var(--primary);
      color: white;
      grid-column: 1 / -1;
    }

    .action-btn.primary:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    .action-btn.secondary {
      background: var(--darker);
      color: var(--light);
      border: 1px solid var(--border);
    }

    .action-btn.secondary:hover {
      background: rgba(99, 102, 241, 0.1);
      border-color: var(--primary);
    }

    /* News Section */
    .news-section {
      margin-top: 2rem;
    }

    .news-card {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .news-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .news-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .news-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .news-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1rem;
      background: var(--darker);
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .news-item:hover {
      background: rgba(99, 102, 241, 0.1);
      transform: translateX(4px);
      cursor: pointer;
    }

    .news-icon {
      width: 40px;
      height: 40px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1rem;
      flex-shrink: 0;
    }

    .news-content {
      flex: 1;
    }

    .news-content h4 {
      margin: 0 0 0.5rem 0;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .news-content p {
      margin: 0 0 0.5rem 0;
      font-size: 0.75rem;
      color: var(--gray);
      line-height: 1.4;
    }

    .news-time {
      font-size: 0.75rem;
      color: var(--gray);
    }

    .mini-card {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .mini-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .mini-card-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .mini-card-actions {
      display: flex;
      gap: 0.5rem;
    }

    .action-btn {
      background: none;
      border: none;
      color: var(--gray);
      cursor: pointer;
      padding: 0.25rem;
      border-radius: 4px;
      transition: color 0.3s ease;
    }

    .action-btn:hover {
      color: var(--light);
    }

    .mini-card-value {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .mini-card-change {
      font-size: 0.875rem;
      color: var(--success);
    }

    .mini-card-change.negative {
      color: var(--danger);
    }

    .mini-sparkline {
      height: 40px;
      margin-top: 1rem;
    }

    /* Bottom Cards */
    .bottom-cards {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .bottom-card {
      background: var(--dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .bottom-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .bottom-card-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .balance-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .balance-item {
      text-align: center;
      padding: 1rem;
      background: var(--darker);
      border-radius: 8px;
    }

    .balance-label {
      font-size: 0.875rem;
      color: var(--gray);
      margin-bottom: 0.5rem;
    }

    .balance-value {
      font-size: 1.25rem;
      font-weight: 600;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .sidebar.show {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
      }

      .header-search {
        width: 300px;
      }
    }

    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }

      .market-overview {
        grid-template-columns: 1fr;
      }

      .quick-actions {
        grid-template-columns: 1fr;
      }

      .header-search {
        display: none;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .stat-card,
    .chart-section,
    .mini-card,
    .bottom-card {
      animation: fadeIn 0.6s ease-out;
    }

    /* Loading States */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid var(--border);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Floating Action Button */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .fab:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(99, 102, 241, 0.6);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="user-profile">
        <div class="user-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div class="user-info">
          <h3>Username</h3>
          <p>Administrator</p>
        </div>
      </div>

      <div class="sidebar-search">
        <input type="text" placeholder="Search...">
      </div>

      <nav class="nav-menu">
        <div class="nav-item">
          <a href="index.html" class="nav-link active">
            <i class="fas fa-home"></i>
            Home
          </a>
        </div>

        <div class="nav-item">
          <a href="trading.html" class="nav-link">
            <i class="fas fa-chart-line"></i>
            Trading
          </a>
        </div>

        <div class="nav-item">
          <a href="wallet.html" class="nav-link">
            <i class="fas fa-wallet"></i>
            Wallet
          </a>
        </div>

        <div class="nav-item">
          <a href="virtual-card.html" class="nav-link">
            <i class="fas fa-credit-card"></i>
            Virtual Card
          </a>
        </div>

        <div class="nav-item">
          <a href="kyc.html" class="nav-link">
            <i class="fas fa-id-card"></i>
            KYC Verification
          </a>
        </div>

        <div class="nav-item">
          <a href="portfolio.html" class="nav-link">
            <i class="fas fa-briefcase"></i>
            Portfolio
          </a>
        </div>

        <div class="nav-item">
          <a href="settings.html" class="nav-link">
            <i class="fas fa-cog"></i>
            Settings
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
          </button>
          <div class="logo">
            <div class="logo-icon">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="8" fill="#6366f1"/>
                <path d="M16 8C11.6 8 8 11.6 8 16C8 20.4 11.6 24 16 24C20.4 24 24 20.4 24 16C24 11.6 20.4 8 16 8ZM16 22C12.7 22 10 19.3 10 16C10 12.7 12.7 10 16 10C19.3 10 22 12.7 22 16C22 19.3 19.3 22 16 22Z" fill="white"/>
                <path d="M16 12C14.3 12 13 13.3 13 15C13 16.7 14.3 18 16 18C17.7 18 19 16.7 19 15C19 13.3 17.7 12 16 12ZM16 16C15.4 16 15 15.6 15 15C15 14.4 15.4 14 16 14C16.6 14 17 14.4 17 15C17 15.6 16.6 16 16 16Z" fill="white"/>
                <path d="M14 13H18V17H14V13Z" fill="#6366f1"/>
              </svg>
            </div>
            <span class="logo-text">CryptoBroker</span>
          </div>
        </div>

                 <div class="header-search">
           <i class="fas fa-search"></i>
           <input type="text" id="searchInput" placeholder="Search cryptocurrencies..." onkeyup="handleSearch(event)">
         </div>

        <div class="header-actions">
          <div class="header-icon" onclick="showNotifications()">
            <i class="fas fa-bell"></i>
            <span class="notification-dot">3</span>
          </div>
          <div class="header-icon" onclick="showUserMenu()">
            <i class="fas fa-user"></i>
          </div>
          <button class="header-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </header>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon pending">
              <i class="fas fa-chart-line"></i>
            </div>
          </div>
          <div class="stat-value">$43,567</div>
          <div class="stat-label">Portfolio Value</div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon tickets">
              <i class="fas fa-arrow-up"></i>
            </div>
          </div>
          <div class="stat-value">+$2,345</div>
          <div class="stat-label">24h Profit</div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon balance">
              <i class="fas fa-wallet"></i>
            </div>
          </div>
          <div class="stat-value">$12,450</div>
          <div class="stat-label">Available Balance</div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon debit">
              <i class="fas fa-coins"></i>
            </div>
          </div>
          <div class="stat-value">8</div>
          <div class="stat-label">Active Positions</div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon cancel">
              <i class="fas fa-exchange-alt"></i>
            </div>
          </div>
          <div class="stat-value">156</div>
          <div class="stat-label">Total Trades</div>
        </div>
      </div>

      <!-- Chart Section -->
      <div class="chart-section">
        <div class="chart-header">
          <h2 class="chart-title">Portfolio Performance</h2>
          <div class="chart-filters">
            <button class="filter-btn active" onclick="updateChart('today')">Today</button>
            <button class="filter-btn" onclick="updateChart('month')">Last 30 days</button>
            <button class="filter-btn" onclick="updateChart('year')">Last Year</button>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="systemChart"></canvas>
        </div>
      </div>

      <!-- Market Overview -->
      <div class="market-overview">
        <div class="market-card">
          <div class="market-header">
            <h3 class="market-title">Top Gainers</h3>
            <a href="trading.html" class="view-all">View All</a>
          </div>
          <div class="market-list">
            <div class="market-item" onclick="openTrading('BTC/USDT')">
              <div class="crypto-info">
                <div class="crypto-icon" style="background: #f7931a;">â‚¿</div>
                <div class="crypto-details">
                  <h4>Bitcoin</h4>
                  <p>BTC/USDT</p>
                </div>
              </div>
              <div class="crypto-price">
                <div class="price">$43,250.00</div>
                <div class="change positive">+2.45%</div>
              </div>
            </div>
            <div class="market-item" onclick="openTrading('ETH/USDT')">
              <div class="crypto-info">
                <div class="crypto-icon" style="background: #627eea;">Îž</div>
                <div class="crypto-details">
                  <h4>Ethereum</h4>
                  <p>ETH/USDT</p>
                </div>
              </div>
              <div class="crypto-price">
                <div class="price">$2,850.00</div>
                <div class="change positive">+1.87%</div>
              </div>
            </div>
            <div class="market-item" onclick="openTrading('SOL/USDT')">
              <div class="crypto-info">
                <div class="crypto-icon" style="background: #9945ff;">â—Ž</div>
                <div class="crypto-details">
                  <h4>Solana</h4>
                  <p>SOL/USDT</p>
                </div>
              </div>
              <div class="crypto-price">
                <div class="price">$98.50</div>
                <div class="change positive">+3.12%</div>
              </div>
            </div>
          </div>
        </div>

        <div class="market-card">
          <div class="market-header">
            <h3 class="market-title">Quick Actions</h3>
          </div>
          <div class="quick-actions">
            <a href="trading.html" class="action-btn primary">
              <i class="fas fa-chart-line"></i>
              Start Trading
            </a>
            <a href="wallet.html" class="action-btn secondary">
              <i class="fas fa-wallet"></i>
              Deposit Funds
            </a>
            <a href="kyc.html" class="action-btn secondary">
              <i class="fas fa-id-card"></i>
              Complete KYC
            </a>
            <a href="portfolio.html" class="action-btn secondary">
              <i class="fas fa-briefcase"></i>
              View Portfolio
            </a>
            <a href="virtual-card.html" class="action-btn secondary">
              <i class="fas fa-credit-card"></i>
              Virtual Card
            </a>
          </div>
        </div>
      </div>

      <!-- News Feed -->
      <div class="news-section">
        <div class="news-card">
          <div class="news-header">
            <h3 class="news-title">Market News</h3>
            <a href="#" class="view-all">View All</a>
          </div>
          <div class="news-list">
            <div class="news-item" onclick="openNewsDetail('bitcoin-surge')">
              <div class="news-icon">
                <i class="fas fa-newspaper"></i>
              </div>
              <div class="news-content">
                <h4>Bitcoin Surges Past $43,000</h4>
                <p>Bitcoin reaches new yearly high as institutional adoption increases</p>
                <span class="news-time">2 hours ago</span>
              </div>
            </div>
            <div class="news-item" onclick="openNewsDetail('ethereum-etf')">
              <div class="news-icon">
                <i class="fas fa-chart-line"></i>
              </div>
              <div class="news-content">
                <h4>Ethereum ETF Approval Expected</h4>
                <p>SEC expected to approve spot Ethereum ETF in coming weeks</p>
                <span class="news-time">4 hours ago</span>
              </div>
            </div>
            <div class="news-item" onclick="openNewsDetail('crypto-regulations')">
              <div class="news-icon">
                <i class="fas fa-globe"></i>
              </div>
              <div class="news-content">
                <h4>Global Crypto Regulations</h4>
                <p>New regulatory framework proposed for cryptocurrency trading</p>
                <span class="news-time">6 hours ago</span>
              </div>
            </div>
          </div>
        </div>
      </div>


    </main>

    <!-- Floating Action Button -->
    <div class="fab" onclick="openAISupport()" title="Chat with AI Support">
      <i class="fas fa-robot"></i>
    </div>
  </div>

  <script>
    // Global variables
    let systemChart;

    // Initialize charts
    function initCharts() {
      // System Overview Chart
      const systemCtx = document.getElementById('systemChart').getContext('2d');
      systemChart = new Chart(systemCtx, {
        type: 'bar',
        data: {
          labels: ['1', '2', '3', '4', '5', '6', '7', '8'],
          datasets: [
            {
              label: 'Volume',
              data: [1200, 1900, 3000, 5000, 2000, 3000, 4000, 3500],
              backgroundColor: 'rgba(99, 102, 241, 0.8)',
              borderColor: 'rgba(99, 102, 241, 1)',
              borderWidth: 1
            },
            {
              label: 'Profit',
              data: [800, 1200, 1800, 2800, 1500, 2200, 3000, 2500],
              type: 'line',
              borderColor: 'rgba(6, 182, 212, 1)',
              backgroundColor: 'rgba(6, 182, 212, 0.1)',
              borderWidth: 3,
              fill: true,
              tension: 0.4
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              labels: {
                color: '#f8fafc'
              }
            }
          },
          scales: {
            x: {
              grid: {
                color: 'rgba(51, 65, 85, 0.3)'
              },
              ticks: {
                color: '#f8fafc'
              }
            },
            y: {
              grid: {
                color: 'rgba(51, 65, 85, 0.3)'
              },
              ticks: {
                color: '#f8fafc'
              }
            }
          }
        }
      });


    }

    // Update chart data based on filter
    function updateChart(period) {
      // Update filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      // Update chart data based on period
      let newData;
      switch(period) {
        case 'today':
          newData = [1200, 1900, 3000, 5000, 2000, 3000, 4000, 3500];
          break;
        case 'month':
          newData = [800, 1200, 1800, 2800, 1500, 2200, 3000, 2500];
          break;
        case 'year':
          newData = [500, 800, 1200, 1800, 1000, 1500, 2000, 1800];
          break;
      }

      systemChart.data.datasets[0].data = newData;
      systemChart.update();
    }

    // Toggle sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Toggle dropdown menus
    function toggleDropdown(id) {
      const dropdown = document.getElementById(id + '-dropdown');
      const toggle = event.currentTarget;
      const icon = toggle.querySelector('.fa-chevron-down, .fa-chevron-up');
      
      dropdown.classList.toggle('show');
      
      if (dropdown.classList.contains('show')) {
        icon.classList.remove('fa-chevron-down');
        icon.classList.add('fa-chevron-up');
      } else {
        icon.classList.remove('fa-chevron-up');
        icon.classList.add('fa-chevron-down');
      }
    }

    // Show notifications
    function showNotifications() {
      const notifications = [
        { type: 'price', message: 'BTC price alert: $43,250', time: '2 min ago' },
        { type: 'deposit', message: 'ETH deposit received: 2.5 ETH', time: '5 min ago' },
        { type: 'trading', message: 'New trading pair available: SOL/USDT', time: '10 min ago' },
        { type: 'support', message: 'AI Support: How can I help you today?', time: '15 min ago' }
      ];
      
      let notificationHTML = '<div style="max-width: 400px; padding: 20px;">';
      notificationHTML += '<h3 style="margin-bottom: 15px; color: #6366f1;">Notifications</h3>';
      
      notifications.forEach(notif => {
        const icon = notif.type === 'price' ? 'ðŸ“ˆ' : 
                    notif.type === 'deposit' ? 'ðŸ’°' : 
                    notif.type === 'trading' ? 'ðŸ“Š' : 'ðŸ¤–';
        
        notificationHTML += `
          <div style="display: flex; align-items: start; gap: 10px; margin-bottom: 15px; padding: 10px; background: #1e1b4b; border-radius: 8px;">
            <div style="font-size: 20px;">${icon}</div>
            <div style="flex: 1;">
              <div style="color: #f8fafc; margin-bottom: 5px;">${notif.message}</div>
              <div style="color: #64748b; font-size: 12px;">${notif.time}</div>
            </div>
          </div>
        `;
      });
      
      notificationHTML += '<button onclick="openAISupport()" style="width: 100%; padding: 10px; background: #6366f1; color: white; border: none; border-radius: 8px; margin-top: 10px; cursor: pointer;">ðŸ’¬ Chat with AI Support</button>';
      notificationHTML += '</div>';
      
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
        background: rgba(0,0,0,0.8); display: flex; align-items: center; 
        justify-content: center; z-index: 1000;
      `;
      modal.innerHTML = notificationHTML;
      modal.onclick = () => document.body.removeChild(modal);
      document.body.appendChild(modal);
    }

    // Show user menu
    function showUserMenu() {
      const userMenuHTML = `
        <div style="max-width: 300px; padding: 20px; background: #1e1b4b; border-radius: 12px; border: 1px solid #334155;">
          <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #334155;">
            <div style="width: 50px; height: 50px; background: #6366f1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">U</div>
            <div>
              <div style="color: #f8fafc; font-weight: 600;">Username</div>
              <div style="color: #64748b; font-size: 14px;">Administrator</div>
            </div>
          </div>
          <div style="display: flex; flex-direction: column; gap: 10px;">
            <button onclick="openProfile()" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: none; border: none; color: #f8fafc; cursor: pointer; border-radius: 8px; text-align: left;">
              <i class="fas fa-user" style="width: 20px;"></i> Profile Settings
            </button>
            <button onclick="openSecurity()" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: none; border: none; color: #f8fafc; cursor: pointer; border-radius: 8px; text-align: left;">
              <i class="fas fa-shield-alt" style="width: 20px;"></i> Security Settings
            </button>
            <button onclick="openAPIKeys()" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: none; border: none; color: #f8fafc; cursor: pointer; border-radius: 8px; text-align: left;">
              <i class="fas fa-key" style="width: 20px;"></i> API Keys
            </button>
            <button onclick="openSettings()" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: none; border: none; color: #f8fafc; cursor: pointer; border-radius: 8px; text-align: left;">
              <i class="fas fa-cog" style="width: 20px;"></i> Settings
            </button>
            <div style="border-top: 1px solid #334155; margin: 10px 0;"></div>
            <button onclick="logout()" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: #ef4444; border: none; color: white; cursor: pointer; border-radius: 8px; text-align: left;">
              <i class="fas fa-sign-out-alt" style="width: 20px;"></i> Logout
            </button>
          </div>
        </div>
      `;
      
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
        background: rgba(0,0,0,0.8); display: flex; align-items: center; 
        justify-content: center; z-index: 1000;
      `;
      modal.innerHTML = userMenuHTML;
      modal.onclick = () => document.body.removeChild(modal);
      document.body.appendChild(modal);
    }

    // Profile functions
    function openProfile() {
      window.location.href = 'settings.html#profile';
    }

    function openSecurity() {
      window.location.href = 'settings.html#security';
    }

    function openAPIKeys() {
      window.location.href = 'settings.html#api';
    }

    function openSettings() {
      window.location.href = 'settings.html';
    }

    // AI Support function
    function openAISupport() {
      const aiSupportHTML = `
        <div style="max-width: 500px; width: 90%; height: 400px; background: #1e1b4b; border-radius: 12px; border: 1px solid #334155; display: flex; flex-direction: column;">
          <div style="padding: 20px; border-bottom: 1px solid #334155; display: flex; align-items: center; gap: 10px;">
            <div style="width: 40px; height: 40px; background: #6366f1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">ðŸ¤–</div>
            <div>
              <div style="color: #f8fafc; font-weight: 600;">CryptoBroker AI Support</div>
              <div style="color: #10b981; font-size: 12px;">Online</div>
            </div>
          </div>
          <div id="chatMessages" style="flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px;">
            <div style="display: flex; gap: 10px;">
              <div style="width: 30px; height: 30px; background: #6366f1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;">ðŸ¤–</div>
              <div style="background: #15123a; padding: 10px; border-radius: 8px; max-width: 80%;">
                <div style="color: #f8fafc; font-size: 14px;">Hello! I'm your AI assistant. How can I help you with your crypto trading today?</div>
              </div>
            </div>
          </div>
          <div style="padding: 20px; border-top: 1px solid #334155;">
            <div style="display: flex; gap: 10px;">
              <input type="text" id="messageInput" placeholder="Type your message..." onkeypress="handleChatKeyPress(event)" style="flex: 1; padding: 10px; background: #15123a; border: 1px solid #334155; border-radius: 8px; color: #f8fafc; font-size: 14px;">
              <button onclick="sendMessage()" style="padding: 10px 20px; background: #6366f1; color: white; border: none; border-radius: 8px; cursor: pointer;">Send</button>
            </div>
          </div>
        </div>
      `;
      
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
        background: rgba(0,0,0,0.8); display: flex; align-items: center; 
        justify-content: center; z-index: 1000;
      `;
      modal.innerHTML = aiSupportHTML;
      modal.onclick = (e) => {
        if (e.target === modal) document.body.removeChild(modal);
      };
      document.body.appendChild(modal);
      
      // Focus on input
      setTimeout(() => {
        document.getElementById('messageInput').focus();
      }, 100);
    }

    // Send message function
    function sendMessage() {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      if (!message) return;
      
      const chatMessages = document.getElementById('chatMessages');
      
      // Add user message
      chatMessages.innerHTML += `
        <div style="display: flex; gap: 10px; justify-content: flex-end;">
          <div style="background: #6366f1; padding: 10px; border-radius: 8px; max-width: 80%;">
            <div style="color: white; font-size: 14px;">${message}</div>
          </div>
        </div>
      `;
      
      input.value = '';
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Simulate AI response
      setTimeout(() => {
        const responses = [
          "I understand your question about crypto trading. Let me help you with that.",
          "That's a great question! Here's what you need to know about that feature.",
          "I can help you with trading strategies, account management, or technical issues.",
          "For security-related questions, I recommend checking your settings page.",
          "Would you like me to guide you through the trading process?"
        ];
        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        
        chatMessages.innerHTML += `
          <div style="display: flex; gap: 10px;">
            <div style="width: 30px; height: 30px; background: #6366f1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;">ðŸ¤–</div>
            <div style="background: #15123a; padding: 10px; border-radius: 8px; max-width: 80%;">
              <div style="color: #f8fafc; font-size: 14px;">${randomResponse}</div>
            </div>
          </div>
        `;
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1000);
    }

    // Handle search functionality
    function handleSearch(event) {
      const searchTerm = event.target.value.toLowerCase();
      const marketItems = document.querySelectorAll('.market-item');
      
      marketItems.forEach(item => {
        const cryptoName = item.querySelector('h4').textContent.toLowerCase();
        const cryptoPair = item.querySelector('p').textContent.toLowerCase();
        
        if (cryptoName.includes(searchTerm) || cryptoPair.includes(searchTerm)) {
          item.style.display = 'flex';
        } else {
          item.style.display = 'none';
        }
      });
    }

    // Handle Enter key in AI chat
    function handleChatKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    // Open trading page with specific pair
    function openTrading(pair) {
      // Store the selected pair in localStorage for the trading page
      localStorage.setItem('selectedPair', pair);
      window.location.href = 'trading.html';
    }

    // Open news detail
    function openNewsDetail(newsId) {
      const newsDetails = {
        'bitcoin-surge': {
          title: 'Bitcoin Surges Past $43,000',
          content: 'Bitcoin has reached a new yearly high of $43,000, driven by increased institutional adoption and positive market sentiment. Major financial institutions continue to show interest in cryptocurrency investments.',
          author: 'CryptoBroker News',
          date: '2 hours ago',
          tags: ['Bitcoin', 'Price Action', 'Institutional']
        },
        'ethereum-etf': {
          title: 'Ethereum ETF Approval Expected',
          content: 'The SEC is expected to approve spot Ethereum ETF applications in the coming weeks, following the successful launch of Bitcoin ETFs. This could bring significant institutional capital to the Ethereum ecosystem.',
          author: 'CryptoBroker News',
          date: '4 hours ago',
          tags: ['Ethereum', 'ETF', 'SEC']
        },
        'crypto-regulations': {
          title: 'Global Crypto Regulations',
          content: 'A new comprehensive regulatory framework has been proposed for cryptocurrency trading, aiming to provide clarity and protection for investors while fostering innovation in the digital asset space.',
          author: 'CryptoBroker News',
          date: '6 hours ago',
          tags: ['Regulation', 'Global', 'Policy']
        }
      };

      const news = newsDetails[newsId];
      if (!news) return;

      const newsModalHTML = `
        <div style="max-width: 600px; width: 90%; background: #1e1b4b; border-radius: 12px; border: 1px solid #334155; padding: 30px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="color: #f8fafc; margin: 0;">${news.title}</h2>
            <button onclick="this.closest('.modal').remove()" style="background: none; border: none; color: #64748b; font-size: 24px; cursor: pointer;">Ã—</button>
          </div>
          <div style="color: #f8fafc; line-height: 1.6; margin-bottom: 20px;">${news.content}</div>
          <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            ${news.tags.map(tag => `<span style="background: #6366f1; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">${tag}</span>`).join('')}
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center; color: #64748b; font-size: 14px;">
            <span>By ${news.author}</span>
            <span>${news.date}</span>
          </div>
        </div>
      `;

      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
        background: rgba(0,0,0,0.8); display: flex; align-items: center; 
        justify-content: center; z-index: 1000;
      `;
      modal.innerHTML = newsModalHTML;
      modal.onclick = (e) => {
        if (e.target === modal) modal.remove();
      };
      document.body.appendChild(modal);
    }

    // Logout function
    function logout() {
      if (confirm('Are you sure you want to logout?')) {
        window.location.href = 'login.html';
      }
    }

    // Initialize the dashboard
    document.addEventListener('DOMContentLoaded', function() {
      initCharts();
      
      // Add click handlers for action buttons
      document.querySelectorAll('.action-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          console.log('Action clicked:', action);
          // Add your action logic here
        });
      });

      // Add real-time updates simulation
      setInterval(() => {
        // Update portfolio value
        const portfolioValue = document.querySelector('.stat-value');
        if (portfolioValue && portfolioValue.textContent.includes('$')) {
          const currentValue = parseFloat(portfolioValue.textContent.replace(/[^0-9.]/g, ''));
          const change = (Math.random() - 0.5) * 0.02; // Â±1% change
          const newValue = currentValue * (1 + change);
          portfolioValue.textContent = '$' + newValue.toLocaleString('en-US', {
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
          });
        }

        // Update profit value
        const profitValue = document.querySelectorAll('.stat-value')[1];
        if (profitValue && profitValue.textContent.includes('+$')) {
          const currentValue = parseFloat(profitValue.textContent.replace(/[^0-9.]/g, ''));
          const change = (Math.random() - 0.5) * 0.1; // Â±5% change
          const newValue = Math.max(0, currentValue * (1 + change));
          profitValue.textContent = '+$' + newValue.toLocaleString('en-US', {
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
          });
        }
      }, 3000);
    });
  </script>
</body>
</html>
